# çœŸå®Aè‚¡æ•°æ® - ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

ç³»ç»Ÿæ”¯æŒ3ç§æ–¹å¼åŠ è½½çœŸå®Aè‚¡è¡Œæƒ…æ•°æ®ï¼š

1. **æ‰‹åŠ¨å¯¼å‡ºCSV** - ä»äº¤æ˜“è½¯ä»¶å¯¼å‡ºï¼ˆæ¨èç®€å•å¿«é€Ÿï¼‰
2. **Tushare API** - è‡ªåŠ¨ä¸‹è½½ï¼ˆéœ€ä»˜è´¹è®¤è¯ï¼‰
3. **ç¤ºä¾‹æ•°æ®æ¼”ç¤º** - å¿«é€ŸéªŒè¯ç³»ç»Ÿé€»è¾‘

---

## ğŸ“‹ æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨å¯¼å‡ºCSVï¼ˆæ¨èï¼‰

### æ­¥éª¤

#### 1ï¸âƒ£  ä»äº¤æ˜“è½¯ä»¶å¯¼å‡º

**åŒèŠ±é¡º/ä¸œæ–¹è´¢å¯Œ/é€šè¾¾ä¿¡ï¼š**
```
1. æ‰“å¼€è¡Œæƒ…è½¯ä»¶
2. æŸ¥çœ‹å•åªè‚¡ç¥¨ï¼ˆå¦‚ï¼šå¹³å®‰é“¶è¡Œ 000001ï¼‰
3. å¯¼å‡ºæ—¥çº¿æ•°æ®ä¸º CSV / Excel
   - åŒ…å«å­—æ®µï¼šæ—¥æœŸã€å¼€ç›˜ã€æœ€é«˜ã€æœ€ä½ã€æ”¶ç›˜ã€æˆäº¤é‡
4. ä¿å­˜åˆ°æœ¬é¡¹ç›®çš„ data/ ç›®å½•
```

**æ¨èå¯¼å‡ºå­—æ®µï¼š**
```
date,code,open,high,low,close,volume
2024-01-01,000001,10.5,10.8,10.4,10.7,50000000
2024-01-02,000001,10.7,10.9,10.6,10.8,52000000
...
```

#### 2ï¸âƒ£  æ”¾å…¥é¡¹ç›®ç›®å½•

```bash
# é¡¹ç›®ç›®å½•
a-share-agent/
â””â”€â”€ data/
    â”œâ”€â”€ 000001.csv          # å¹³å®‰é“¶è¡Œ
    â”œâ”€â”€ 000858.csv          # äº”ç²®æ¶²
    â””â”€â”€ 600000.csv          # æµ¦å‘é“¶è¡Œ
```

#### 3ï¸âƒ£  è¿è¡Œç³»ç»Ÿ

```bash
cd a-share-agent
python3 scripts/real_data_demo.py
```

---

## ğŸ’» æ–¹æ¡ˆ2ï¼šä½¿ç”¨Tushareè‡ªåŠ¨ä¸‹è½½

### å®‰è£…ä¸é…ç½®

```bash
# å®‰è£…tushare
pip install tushare -i https://pypi.tuna.tsinghua.edu.cn/simple

# æ³¨å†Œè´¦å·
# è®¿é—® https://tushare.pro
# è·å–ä½ çš„ API Token
```

### ä¸‹è½½è„šæœ¬ç¤ºä¾‹

åˆ›å»º `scripts/download_tushare_data.py`ï¼š

```python
import tushare as ts
import os

# é…ç½®API
pro = ts.pro_api('ä½ çš„Token')

# éœ€è¦ä¸‹è½½çš„è‚¡ç¥¨ä»£ç åˆ—è¡¨
codes = ['000001', '000858', '600000']

os.makedirs('data', exist_ok=True)

for code in codes:
    print(f"ä¸‹è½½ {code}...")
    
    # è·å–æ—¥çº¿æ•°æ®ï¼ˆæœ€è¿‘2å¹´ï¼‰
    df = pro.daily(ts_code=f'{code}.SZ', start_date='20220101')
    
    # è½¬æ¢åˆ—å
    df.rename(columns={
        'trade_date': 'date',
        'ts_code': 'code',
    }, inplace=True)
    
    # ä¿å­˜
    df.to_csv(f'data/{code}.csv', index=False)
    print(f"  âœ“ å·²ä¿å­˜ {len(df)} æ¡è®°å½•")
```

### è¿è¡Œä¸‹è½½

```bash
python3 scripts/download_tushare_data.py
python3 scripts/real_data_demo.py
```

---

## ğŸ“Š æ–¹æ¡ˆ3ï¼šä»AKShareä¸‹è½½ï¼ˆå¤‡é€‰ï¼‰

å¦‚æœèƒ½æˆåŠŸå®‰è£…akshareï¼ˆéœ€Python 3.9+ï¼‰ï¼š

```python
import akshare as ak

# è·å–è‚¡ç¥¨æ•°æ®
df = ak.stock_zh_a_hist(
    symbol='000001',
    period='daily',
    start_date='20220101',
    adjust='qfq'
)

df.to_csv('data/000001.csv', index=False)
```

---

## ğŸ” æ•°æ®æ ¼å¼è¦æ±‚

### CSVæ–‡ä»¶æ ¼å¼

**å¿…éœ€å­—æ®µï¼š**
```
date      - äº¤æ˜“æ—¥æœŸ (YYYY-MM-DD æˆ– YYYYMMDD)
code      - è‚¡ç¥¨ä»£ç  (6ä½æ•°å­—ï¼Œå¦‚000001)
close     - æ”¶ç›˜ä»· (å¿…éœ€)
volume    - æˆäº¤é‡ (å¿…éœ€)
```

**å¯é€‰å­—æ®µï¼š**
```
open      - å¼€ç›˜ä»·
high      - æœ€é«˜ä»·
low       - æœ€ä½ä»·
```

### ç¤ºä¾‹æ–‡ä»¶

```csv
date,code,open,high,low,close,volume
2024-01-01,000001,10.50,10.80,10.40,10.70,50000000
2024-01-02,000001,10.70,10.90,10.60,10.80,52000000
2024-01-03,000001,10.80,11.00,10.70,10.95,55000000
```

---

## âš™ï¸  å®é™…ä½¿ç”¨æµç¨‹

### 1ï¸âƒ£  å‡†å¤‡æ•°æ®

```bash
# é€‰æ‹©ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€ï¼š
# A) æ‰‹åŠ¨å¯¼å‡ºå¹¶æ”¾å…¥ data/ ç›®å½•
# B) è¿è¡Œ scripts/download_tushare_data.py
# C) ä½¿ç”¨ scripts/demo_run.py (æ¨¡æ‹Ÿæ•°æ®æµ‹è¯•)
```

### 2ï¸âƒ£  è¿è¡Œç³»ç»Ÿ

```bash
# çœŸå®æ•°æ®ç‰ˆæœ¬
python3 scripts/real_data_demo.py

# æˆ–è€…åŸå§‹ç‰ˆæœ¬ï¼ˆéœ€akshareï¼‰
python3 scripts/run_daily.py
```

### 3ï¸âƒ£  æŸ¥çœ‹è¾“å‡º

```
âœ“ data/market/breadth_real.parquet   - å¸‚åœºå®½åº¦æŒ‡æ ‡
âœ“ data/orders_real.csv               - ä»Šæ—¥è®¢å•
```

### 4ï¸âƒ£  æ£€æŸ¥è®¢å•

```bash
cat data/orders_real.csv

# ç¤ºä¾‹è¾“å‡ºï¼š
# code,target_weight,order_type,timestamp
# 000001,0.1667,buy,2024-10-31 15:20:00
# 000858,0.1667,buy,2024-10-31 15:20:00
# 600000,0.1667,buy,2024-10-31 15:20:00
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ•°æ®æ–‡ä»¶æ‰¾ä¸åˆ°æ€ä¹ˆåŠï¼Ÿ

**A:** 
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åœ¨ `data/` ç›®å½•ä¸‹
- ç¡®è®¤æ–‡ä»¶åæ ¼å¼ï¼š`ä»£ç .csv` (å¦‚: `000001.csv`)
- æ£€æŸ¥CSVæ ¼å¼æ˜¯å¦æ­£ç¡®

### Q: å¯¼å‡ºçš„CSVæ ¼å¼ä¸å¯¹ï¼Ÿ

**A:** 
- ç¡®ä¿åŒ…å«å¿…éœ€å­—æ®µï¼šdate, code, close, volume
- æ—¥æœŸæ ¼å¼ï¼šYYYY-MM-DD æˆ– YYYYMMDD
- è‚¡ç¥¨ä»£ç ï¼š6ä½æ•°å­—
- æ•°å€¼å­—æ®µç”¨é€—å·æˆ–åˆ¶è¡¨ç¬¦åˆ†éš”

### Q: æ€æ ·æ‰¹é‡å¯¼å‡ºå¤šä¸ªè‚¡ç¥¨ï¼Ÿ

**A:** 
```python
# ç¼–å†™è„šæœ¬å¾ªç¯å¤„ç†
codes = ['000001', '000858', '600000']
for code in codes:
    # ä»äº¤æ˜“è½¯ä»¶å¯¼å‡ºå•ä¸ªCSV
    # æˆ–è°ƒç”¨APIä¸‹è½½
    pass
```

### Q: èƒ½å¦ä½¿ç”¨å®æ—¶æ•°æ®ï¼Ÿ

**A:** 
- ç³»ç»ŸåŸºäºæ—¥çº¿æ•°æ®è®¾è®¡
- æ—¥çº¿æ•°æ®è¶³å¤Ÿç”¨äº1-5æ—¥çŸ­çº¿ç­–ç•¥
- è‹¥éœ€æ—¥å†…æ•°æ®ï¼Œéœ€ä¿®æ”¹äº¤æ˜“å‘¨æœŸå’ŒæŒ‡æ ‡

---

## ğŸ“ˆ æ•°æ®é‡å»ºè®®

| åœºæ™¯ | è‚¡ç¥¨æ•° | å†å²å¤©æ•° | è¯´æ˜ |
|---|---|---|---|
| æ¼”ç¤ºæµ‹è¯• | 1-5 | 30-60 | å¿«é€ŸéªŒè¯é€»è¾‘ |
| å‚æ•°è°ƒä¼˜ | 50-100 | 365-730 | 1-2å¹´æ•°æ® |
| ç”Ÿäº§è¿è¥ | 100+ | 730+ | å®Œæ•´å†å²å‚è€ƒ |

---

## ğŸ’¡ æ¨èå·¥ä½œæµ

### ç¬¬1å¤©ï¼šå¿«é€Ÿæµ‹è¯•
```bash
# ä½¿ç”¨æ¼”ç¤ºæ•°æ®
python3 scripts/demo_run.py
```

### ç¬¬2-3å¤©ï¼šå‚æ•°ä¼˜åŒ–
```bash
# å¯¼å‡º50ä¸ªè‚¡ç¥¨çš„1å¹´æ•°æ®
# æ”¾å…¥ data/ ç›®å½•
python3 scripts/real_data_demo.py
# è°ƒæ•´å‚æ•°ï¼Œè§‚å¯Ÿè®¢å•è´¨é‡
```

### ç¬¬4å¤©ä»¥åï¼šç”Ÿäº§è¿è¥
```bash
# é…ç½® crontab / ä»»åŠ¡è®¡åˆ’ç¨‹åº
# æ¯æ—¥ 15:10 æ›´æ–°å¸‚åœºå®½åº¦
# æ¯æ—¥ 15:20 ç”Ÿæˆè®¢å•
```

---

## ğŸ“š è·å–æ•°æ®çš„å®Œæ•´æ¸ é“

| æ¸ é“ | æˆæœ¬ | éš¾åº¦ | æ¨èåº¦ |
|---|---|---|---|
| åŒèŠ±é¡º/ä¸œæ–¹è´¢å¯Œ | å…è´¹ | ç®€å• | â­â­â­â­â­ |
| é€šè¾¾ä¿¡ | å…è´¹ | ç®€å• | â­â­â­â­ |
| Tushare | å…è´¹-ä»˜è´¹ | ä¸­ç­‰ | â­â­â­â­ |
| AKShare | å…è´¹ | ä¸­ç­‰ | â­â­â­ |
| Wind/Bloomberg | ä»˜è´¹ | å¤æ‚ | â­â­ |

---

## âœ… éªŒè¯æ¸…å•

å®Œæˆä»¥ä¸‹æ­¥éª¤åï¼Œç³»ç»Ÿå¯æ­£å¸¸è¿è¡ŒçœŸå®æ•°æ®ï¼š

- [ ] CSVæ–‡ä»¶æ”¾å…¥ data/ ç›®å½•
- [ ] CSVåŒ…å«å¿…éœ€å­—æ®µï¼šdate, code, close, volume
- [ ] æ—¥æœŸæ ¼å¼æ­£ç¡® (YYYY-MM-DD)
- [ ] è‚¡ç¥¨ä»£ç ä¸º6ä½æ•°å­—
- [ ] è¿è¡Œ `python3 scripts/real_data_demo.py`
- [ ] ç”Ÿæˆäº† data/market/breadth_real.parquet
- [ ] ç”Ÿæˆäº† data/orders_real.csv
- [ ] è®¢å•ä¸­åŒ…å« target_weight å’Œ code å­—æ®µ

---

## ğŸš€ ç«‹å³å¼€å§‹

```bash
# å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰
cd a-share-agent

# æ–¹å¼1ï¼šä½¿ç”¨æ¼”ç¤ºæ•°æ®æµ‹è¯•
python3 scripts/demo_run.py

# æ–¹å¼2ï¼šå¯¼å‡ºçœŸå®æ•°æ®åè¿è¡Œ
# ï¼ˆå…ˆä»äº¤æ˜“è½¯ä»¶å¯¼å‡ºCSVåˆ° data/ ç›®å½•ï¼‰
python3 scripts/real_data_demo.py
```

---

**ç¥æ‚¨äº¤æ˜“é¡ºåˆ©ï¼** ğŸ“ˆ

*ç‰ˆæœ¬: v0.1.0 | æ›´æ–°: 2024-10*
